@using System.Data
@model DataSet


@{
    var L = ViewBag.Layout;
    var tableId = ViewBag.tableId;
    var dbfieldWidth = ViewBag.dbfieldWith;
}
<form action="" method="post" id="Layouts">
    <input type="hidden" id="layouthf" name="layouthf" value="" />
    <input type="hidden" id="tableid" name="tableid" value="@tableId" />
    <table style="width:80%; font-size:12px; color:black;border:0px solid #CCD5F0 ; background-color:white; " border="1" id="set-layout">

        <tr style="background-color:#003366; color:white;height:28px;">
            <th style="text-align:center;">ID</th>
            <th style="text-align:center;">Field Caption</th>
            <th style="text-align:center;">Panel</th>
            <th style="text-align:center;">Row Position</th>
            <th style="text-align:center;">Column Position</th>
            <th style="text-align:center;">Field Width</th>
            <th style="text-align:center;">Data Length</th>
            <th style="text-align:center;">Grid SL.</th>
            <th style="text-align:center;">Report SL.</th>

        </tr>

        @{
            int j = 0;
        }

        @foreach (DataRow l in L.Tables[0].Rows)
        {

            <tr>

                <td style="padding:1px;width:70px;"><input type="text" style="border:0px none; outline:none; width:100%" name="columnid[@j]" value="@l["ColumnId"]" readonly /></td>
                <td style="width:250px;padding:1px;">
                    <input type="text" style="border:0px none; outline:none; width:100%" name="columndisplayname[@j]" value="@l["ColumnDisplayName"]" />
                </td>
                <td style="width:250px;">
                    @{
                        var panel = ViewBag.PanelList;
                    }
                    <select style="border:0px none; outline:none; width:100%" name="panelid[@j]">
                        <option value="0">Select Panel</option>
                        @foreach (DataRow t1 in panel.Tables[0].Rows)
                        {
                            <option value="@t1["PanelId"]"
                                    @if (l["PanelId"].ToString() == t1["PanelId"].ToString()) { @: selected
                                    }>
                                @t1["PanelCaption"]
                            </option>
                        }

                    </select>
                </td>

                <td style="padding:0px;width:90px;">
                    <input type="text" style="border:0px none; outline:none; width:100%;text-align:center;" name="rowposition[@j]" value="@l["RowPosition"]" />
                </td>

                <td style="padding:0px;width:90px;">
                    <input type="text" style="border:0px none; outline:none; width:100%;text-align:center;" name="colposition[@j]" value="@l["ColPosition"]" />
                </td>

                <td style="padding:0px;width:90px;">
                    <input type="text" style="border:0px none; outline:none; width:100%;text-align:center;" name="columnwidth[@j]" value="@l["ColumnWidth"]" />
                </td>

                <td style="padding:0px;width:90px;">

                    @if (l["DbColumnWidth"] == null || l["DbColumnWidth"].ToString() == "")
                    {
                        foreach (DataRow fw in dbfieldWidth.Tables[0].Rows)
                        {
                            if (fw["ColName"].ToString() == l["ColumnName"].ToString())
                            {
                                <input type="text" style="border:0px none; outline:none; width:100%; text-align:center;" name="datalength[@j]" value="@fw["ColSize"]" readonly/>
                                @*<input type="text" style="border:0px none; outline:none; width:100%; text-align:center;" name="datalength[@j]" value="@l["DbColumnWidth"]" />*@
                            }
                        }
                    }
                    else
                    {
                        <input type="text" style="border:0px none; outline:none; width:100%; text-align:center;" name="datalength[@j]" value="@l["DbColumnWidth"]" readonly/>
                    }

                </td>

                <td style="padding:0px;width:90px;">
                    <input type="text" style="border:0px none; outline:none; width:100%;text-align:center;" name="slno[@j]" value="@l["SlNo"]" />
                </td>

                <td style="padding:0px;width:90px;">
                    <input type="text" style="border:0px none; outline:none; width:100%; text-align:center;" name="reportcolumn[@j]" value="@l["ReportColumn"]" />
                </td>


            </tr>

            j = j + 1;
        }

    </table>

</form>
<script>
    $('#set-layout td').click(function () {
        $('#set-layout tr').css({ "background-color": "white", "color": "black" });
        $('#set-layout th').css({ "background-color": "#003366", "color": "white" });
        $(this).parent().css({ "background-color": "#0066ff", "color": "white" });
        //$(this).parent().css("background-color", "green");




    });

</script>